<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership Fleksibel</title>
    <link rel="stylesheet" href="{{ asset('css/global.css') }}">
    <link rel="stylesheet" href="{{ asset('css/main/membership.css') }}">
    <!-- Styles will be added externally -->
</head>
<body>
    @include('components.navbar')

    <div class="container">
        <div class="header">
            <h1>Membership <span class="highlight">Fleksibel</span></h1>
            <p>Pilih paket sesuai kebutuhanmu dan sesukamu</p>
        </div>

        @if(session('success'))
            <div class="alert alert-success">{{ session('success') }}</div>
        @endif
        @if(session('error'))
            <div class="alert alert-error">{{ session('error') }}</div>
        @endif

        @php
            $membershipMeta = [
                'Calm Starter' => [
                    'class' => '',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3349 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334852 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#FFCD2D"/></svg>',
                    'benefits' => [
                        'Tes Kesehatan Mental Unlimited',
                        'Mood and Productivity Tracker (7 Hari)',
                        '2 Jam Ment-AI Chatbot',
                        'Missions of The Day (7 Hari)',
                        '1x Support Group Discussion',
                        '15x Deep Cards',
                    ],
                ],
                'Growth Path' => [
                    'class' => '',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3349 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334852 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#FFCD2D"/></svg>',
                    'benefits' => [
                        'Tes Kesehatan Mental Unlimited',
                        '1x Share and Talk (Rangers)',
                        '20x Deep Cards',
                        '3 Jam Ment-AI Chatbot',
                        '2x Support Group Discussion',
                        'Missions of The Day Unlimited',
                        'Mood and Productivity Tracker Unlimited',
                    ],
                ],
                'Blossom' => [
                    'class' => '',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3349 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334852 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#FFCD2D"/></svg>',
                    'benefits' => [
                        'Tes Kesehatan Mental Unlimited',
                        '1x Share and Talk (Rangers)',
                        'Mood and Productivity Tracker Unlimited',
                        '3x Support Group Discussion',
                        'Ment-AI Chatbot Unlimited',
                        'Missions of The Day Unlimited',
                        'Deep Cards Unlimited',
                    ],
                ],
                'Inner Peace' => [
                    'class' => '',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3349 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334852 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#FFCD2D"/></svg>',
                    'benefits' => [
                        'Tes Kesehatan Mental Unlimited',
                        '3x Share and Talk (Rangers)',
                        '6x Support Group Discussion',
                        'Mood and Productivity Tracker Unlimited (Extended)',
                        'Ment-AI Chatbot Unlimited',
                        'Missions of The Day Unlimited',
                        'Deep Cards Unlimited',
                    ],
                ],
                'Harmony' => [
                    'class' => 'yellow',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3348 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334853 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#47A6A6"/></svg>',
                    'benefits' => [
                        '1x Support Group Discussion',
                    ],
                ],
                'Serenity' => [
                    'class' => 'yellow',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3348 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334853 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="#47A6A6"/></svg>',
                    'benefits' => [
                        '1x Share and Talk (Rangers)',
                    ],
                ],
                "Chat with Sanny's Aid" => [
                    'class' => 'dark',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3348 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334853 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="white"/></svg>',
                    'benefits' => [
                        '1x Share and Talk (Psikiater)',
                        'Mood and Productivity Tracker (30 Hari)',
                        'Deep Cards (30 Hari)',
                    ],
                ],
                "Meet with Sanny's Aid" => [
                    'class' => 'dark',
                    'svg' => '<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.20248 8.5594C5.20248 12.2423 3.74772 15.7707 1.16512 18.3518L1.0405 18.4763C-0.346832 19.8628 -0.346832 22.1372 1.0405 23.5237L1.16512 23.6482C3.74772 26.2293 5.20248 29.7577 5.20248 33.4406C5.20248 35.336 6.71295 36.8725 8.5762 36.8725H8.69046C12.348 36.8725 15.8838 38.3581 18.4928 40.9655C19.863 42.3348 22.0739 42.3497 23.444 40.9804C26.0784 38.3477 29.6237 36.8725 33.3166 36.8725H33.5131C35.4204 36.8725 36.9665 35.2997 36.9665 33.3595V33.2084C36.9665 29.5352 38.4175 26.016 40.9933 23.4417C42.3356 22.1002 42.3356 19.8998 40.9933 18.5583C38.4175 15.984 36.9665 12.4648 36.9665 8.7916V8.64048C36.9665 6.70031 35.4204 5.1275 33.5131 5.1275H33.3166C29.6237 5.1275 26.0784 3.65232 23.444 1.01957C22.0739 -0.349742 19.863 -0.334853 18.4928 1.03446C15.8838 3.64193 12.348 5.1275 8.69046 5.1275H8.5762C6.71295 5.1275 5.20248 6.66401 5.20248 8.5594Z" fill="white"/></svg>',
                    'benefits' => [
                        'Mood and Productivity Tracker (30 Hari)',
                        '1x Share and Talk (Video Call Psikiater)',
                        'Deep Cards (30 Hari)',
                    ],
                ],
            ];
        @endphp
        <div class="pricing-grid">
            @foreach($memberships as $membership)
                @php
                    $meta = $membershipMeta[$membership->name] ?? ['class' => '', 'svg' => '', 'benefits' => []];
                @endphp
                <div class="pricing-card{{ $meta['class'] ? ' ' . $meta['class'] : '' }}">
                    <div class="card-header">
                        {!! $meta['svg'] !!}
                        <h3 class="card-title">{{ $membership->name }}</h3>
                    </div>
                    <div class="card-price">
                        Rp{{ number_format($membership->price, 0, ',', '.') }}
                        @if($membership->duration_days > 0)
                            <span class="period">/{{ $membership->duration_days >= 30 ? 'bulan' : $membership->duration_days . ' hari' }}</span>
                        @endif
                    </div>
                    <ul class="benefits-list">
                        @foreach($meta['benefits'] as $benefit)
                            <li>{{ $benefit }}</li>
                        @endforeach
                    </ul>
                    <form class="subscribe-form" method="POST" action="{{ route('membership.buy', $membership->id) }}" onsubmit="return confirm('Yakin ingin membeli {{ $membership->name }}?');" @if($membership->name === 'Calm Starter') style="display:none;" @endif>
                        @csrf
                        <button class="subscribe-btn" type="submit">Langganan Sekarang</button>
                    </form>
                </div>
            @endforeach
        </div>
    </div>
</body>
</html>